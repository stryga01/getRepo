{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/index.js","webpack:///./src/scss/style.scss?4c20"],"names":["Search","constructor","repositories","queryString","searchField","document","querySelector","searchList","repoList","getRepoDebounce","debounce","getRepo","fn","timeout","timer","args","clearTimeout","setTimeout","apply","getQueryString","value","query","fetch","then","response","json","repo","items","removeAutocomplete","renderAutocomplete","catch","err","alert","repos","fragment","createDocumentFragment","searchItem","createElement","className","innerText","name","addEventListener","renderRepo","appendChild","classList","add","querySelectorAll","forEach","el","remove","repoItem","insertAdjacentHTML","owner","login","stargazers_count","e","repoRemove","target","request","search","style","display","bind"],"mappings":"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","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import '../scss/style.scss'\n\nclass Search{\n  constructor() {\n    this.repositories = []\n    this.queryString = ''\n    this.searchField = document.querySelector('.search__field')\n    this.searchList = document.querySelector('.search__list')\n    this.repoList = document.querySelector('.repo__list')\n    this.getRepoDebounce = this.debounce(this.getRepo, 400)\n  }\n  debounce(fn, timeout) {\n    let timer\n    return function(...args) {\n      clearTimeout(timer)\n      timer = setTimeout(() => {\n        fn.apply(this, args)\n      }, timeout)\n    }\n  }\n  getQueryString(){\n    return this.queryString = this.searchField.value\n  }\n  getRepo(query){\n    if (this.queryString) {\n      fetch(`https://api.github.com/search/repositories?q=${query}&per_page=5`)\n        .then((response) => response.json())\n        .then((repo) => {\n          this.repositories = [...repo.items]\n          this.removeAutocomplete()\n          this.renderAutocomplete(this.repositories)\n          if (!this.queryString) this.removeAutocomplete()\n        })\n        .catch(err => alert('Превышено число запросов. Попробуйте позже' + err))\n    }\n  }\n  renderAutocomplete(repos){\n    const fragment = document.createDocumentFragment()\n    for (let repo of repos) {\n      const searchItem = document.createElement('li')\n      searchItem.className = 'search__item'\n      searchItem.innerText = repo.name\n      searchItem.addEventListener('click', () => {\n        this.renderRepo(repo)\n      })\n      fragment.appendChild(searchItem)\n    }\n    this.searchList.classList.add('search__list--show')\n    this.searchList.appendChild(fragment)\n  }\n\n  removeAutocomplete() {\n    this.searchList.querySelectorAll('li').forEach(el => el.remove())\n    this.searchList.classList.remove('search__list--show')\n  }\n  renderRepo(repo){\n    let repoItem = document.createElement('li')\n    repoItem.insertAdjacentHTML('afterbegin',\n      `<li class='repo__item'>\n      <div class='repo__info'>\n        Name: ${repo.name} <br>\n        Owner: ${repo.owner.login} <br>\n        Stars: ${repo.stargazers_count}\n      </div>\n      <button class='repo__remove-btn'></button>\n    </li>`)\n\n    this.repoList.appendChild(repoItem)\n    repoItem.addEventListener('click', e => {\n      const repoRemove = repoItem.querySelector('.repo__remove-btn')\n      if(e.target === repoRemove){\n        repoItem.remove()\n      }\n    })\n    this.searchField.value = '';\n    this.removeAutocomplete()\n  }\n  request() {\n    this.getQueryString()\n    this.getRepoDebounce(this.queryString)\n  }\n}\n\n\nconst search = new Search();\n\ndocument.addEventListener('click', (e) => {\n  if (e.target !== search.searchField) {\n    search.searchList.style.display = 'none'\n  }\n})\nsearch.searchField.addEventListener('click', () => {\n  search.searchList.style.display = 'block'\n})\nsearch.searchField.addEventListener('input', search.request.bind(search))\nsearch.searchField.addEventListener('keyup', () => {\n  if (!search.queryString) search.removeAutocomplete()\n})\n\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}